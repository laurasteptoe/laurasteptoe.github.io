<!DOCTYPE html>
<html lang="en">
    <!-- Add the head -->
    <script src="reuse/head.js"></script>
    <body>

    <!-- Add the navbar -->
    <script src="reuse/nav-bar.js"></script>

    <div class="container">
        <div class="row text-center">
            <h1>Falldown</h1>
        </div>

        <div class="embed-responsive embed-responsive-16by9">
            <iframe class="embed-responsive-item" width="640" height="480" src="https://www.youtube.com/embed/LQsOORr2ezQ" frameborder="0" allowfullscreen></iframe>
        </div>

        <div class="col-md-12" style="padding-top: 30px;">
            <p>This tutorial will guide you through programming a simple Falldown game<br>
            <p>We hope to teach you the basics to programming and let you have some fun with the results!</p>
            <p>All of this code is written using a variant of Python called MicroPython</p>
            <h3>Part 1 - The Player</h3>
            <hr>
            <p>First we need to create a player to move from left to right when we press the buttons</p>
            <pre><code>from microbit import display

display.set_pixel(2, 4, 9)</code></pre>
            <p>The first line tells MicroPython that we will be using the display.<br>The second line turns an led on at the bottom of the screen.</p>
            <h4>The Screen</h4>
            <p>The screen on the micro:bit uses coordinates to use individual pixels. This means that (0,0) is the coordinate of the led in the top left corner of the screen and (4,4) is the bottom right.<br><br>The first number is the position on the x axis(left to right) and the second number is the position on the y axis (top to bottom).</p>
            <p>When we set the pixel using <code>display.set_pixel(2, 4, 9)</code> we are actually telling the micro:bit to turn an led on at (2,4), or more easily understood, the middle pixel at the bottom.<br><br>We can also write a number from 0 to 9 to represent the brightness. The 9 here means maximum brightness!</p>
            <hr>
            <p>(tutorial obviosuly not complete, but code is fairly logical and would be easy to turn into a tutorial given a few hours)</p>
            <hr>
            <p>Full code here:</p>
            <pre><code>import random
from microbit import display, button_a, button_b, sleep

pos = [2, 4]
score = 0
elapsed = 0

# Coordinate of space
platforms = [[1, 5], [2, 3], [3, 1]]

def gameover():
    while True:
        display.scroll("Game Over   Score " + str(score))

def drawPlatforms():
    for platform in platforms:
        if platform[1] < 5:
            for i in range(0, 5):
                display.set_pixel(i, platform[1], 9)
            display.set_pixel(platform[0], platform[1], 0)

def updatePlatforms():
    for platform in platforms:
        platform[1] -= 1
        if platform[1] == -1:
            platform[1] = 5
            platform[0] = random.randrange(5)
        if pos[1] == platform[1]:
            if pos[0] != platform[0]:
                pos[1] -= 1
                if pos[1] == -1:
                    gameover()

def updatePlayer():
    global score
    for platform in platforms:
        #ignore platforms below the bottom of the screen or we get crazy scores
        if platform[1] == 5:
            continue
        # Same line
        if pos[1] == platform[1]:
            if pos[0] == platform[0]:
                pos[1] += 1
        # line above
        if pos[1]+1 == platform[1]:
            if pos[0] == platform[0]:
                pos[1] += 1
                score += 1
    if pos[1] > 4:
        pos[1] = 4

def handleInput():
    if button_a.was_pressed():
        if pos[0] != 0:
            pos[0] -= 1
    if button_b.was_pressed():
        if pos[0] != 4:
            pos[0] += 1

while True:
    handleInput()

    display.set_pixel(pos[0], pos[1], 9)

    sleep(10)
    elapsed += 10

    updatePlayer()

    if(elapsed == 220):
        updatePlatforms()
        elapsed = 0

    display.clear()
    drawPlatforms()</code></pre>

        </div>


        <!-- Add the footer -->
        <script src="reuse/footer.js"></script>

    </div><!-- /container -->

    </body>
</html>
